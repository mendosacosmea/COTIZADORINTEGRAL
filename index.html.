<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SERVICIO INTEGRAL M.S | Cotizador</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap"
        rel="stylesheet">
    <style>
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: #f8fafc;
        }

        .glass-nav {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
        }

        .card-main {
            background: white;
            border-radius: 2rem;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.04);
        }

        .size-card {
            transition: all 0.2s ease;
            cursor: pointer;
            border: 2px solid #f1f5f9;
            position: relative;
            overflow: hidden;
        }

        .size-card.active {
            border-color: #2563eb;
            background-color: #eff6ff;
            transform: scale(1.02);
        }

        .size-card.active .check-icon {
            display: block;
        }

        .check-icon {
            display: none;
            position: absolute;
            top: 12px;
            right: 12px;
            color: #2563eb;
        }

        .input-styled {
            width: 100%;
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 0.75rem;
            padding: 1rem;
            font-weight: 600;
            outline: none;
            transition: all 0.2s;
        }

        .input-styled:focus {
            border-color: #2563eb;
            background: white;
            box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.1);
        }

        .input-error {
            border-color: #ef4444 !important;
            background-color: #fef2f2 !important;
        }

        .dot {
            transition: all 0.3s ease-in-out;
        }

        input:checked~.dot {
            transform: translateX(100%);
            background-color: #2563eb;
        }

        input:checked~.block-bg {
            background-color: #dbeafe;
        }

        #alert-modal {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 100;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }
    </style>
</head>

<body class="text-slate-900">

    <!-- Modal de Alerta -->
    <div id="alert-modal">
        <div class="bg-white rounded-3xl p-8 max-w-sm w-full shadow-2xl text-center">
            <div class="w-16 h-16 bg-red-100 text-red-600 rounded-full flex items-center justify-center mx-auto mb-4">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3"
                        d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                </svg>
            </div>
            <h3 class="text-xl font-black mb-2 uppercase italic text-slate-800">Faltan Datos</h3>
            <p id="alert-text" class="text-slate-500 text-sm font-medium mb-6 leading-relaxed"></p>
            <button onclick="closeAlert()" class="w-full bg-slate-900 text-white py-4 rounded-2xl font-black uppercase tracking-widest italic shadow-lg">Corregir</button>
        </div>
    </div>

    <nav class="glass-nav sticky top-0 z-50 border-b border-slate-100">
        <div class="max-w-4xl mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex flex-col">
                <span class="text-xl font-extrabold tracking-tighter text-slate-900 uppercase italic">SERVICIO INTEGRAL M.S</span>
                <span class="text-[9px] font-bold text-blue-600 uppercase tracking-widest leading-none">Logística y Distribución</span>
            </div>
        </div>
    </nav>

    <main class="max-w-3xl mx-auto px-6 py-10">
        <div class="card-main p-6 md:p-10 border border-slate-100">

            <!-- 1. Tamaño del Paquete -->
            <div class="mb-10">
                <label class="block text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-4">1. Tamaño del Paquete</label>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <button onclick="setSize('Pequeño', 1500, this)" class="size-card rounded-2xl p-5 text-left flex flex-col h-full">
                        <svg class="check-icon w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1.00-1.414-1.414L9 10.586 7.707 9.293a1 1.00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>
                        <p class="font-extrabold text-slate-800 italic text-lg uppercase">Pequeño</p>
                        <p class="text-blue-600 font-bold text-sm mb-3">$1.500 local</p>
                        <p class="text-[10px] font-bold text-slate-400 uppercase mt-auto">Ej: Sobres, Docs.</p>
                    </button>

                    <button onclick="setSize('Mediano', 2000, this)" class="size-card rounded-2xl p-5 text-left flex flex-col h-full">
                        <svg class="check-icon w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1.00-1.414-1.414L9 10.586 7.707 9.293a1 1.00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>
                        <p class="font-extrabold text-slate-800 italic text-lg uppercase">Mediano</p>
                        <p class="text-blue-600 font-bold text-sm mb-3">$2.000 local</p>
                        <p class="text-[10px] font-bold text-slate-400 uppercase mt-auto">Ej: Calzado, Bolsas.</p>
                    </button>

                    <button onclick="setSize('Grande', 2500, this)" class="size-card rounded-2xl p-5 text-left flex flex-col h-full">
                        <svg class="check-icon w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1.00-1.414-1.414L9 10.586 7.707 9.293a1 1.00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>
                        <p class="font-extrabold text-slate-800 italic text-lg uppercase">Grande</p>
                        <p class="text-blue-600 font-bold text-sm mb-3">$2.500 local</p>
                        <p class="text-[10px] font-bold text-slate-400 uppercase mt-auto">Ej: Repuestos, Cajas.</p>
                    </button>
                </div>
            </div>

            <!-- 2. Trayecto -->
            <div class="mb-10">
                <label class="block text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-4">2. Trayecto Detallado</label>
                <div class="grid md:grid-cols-2 gap-8">
                    <div class="space-y-4">
                        <label class="text-[10px] font-black text-slate-500 uppercase tracking-widest">Retiro</label>
                        <select id="ori-loc" onchange="updatePrice()" class="w-full bg-slate-50 border border-slate-200 rounded-xl p-3.5 font-bold text-slate-700 outline-none">
                            <option value="" disabled selected>Localidad...</option>
                            <option value="0">Rosario</option>
                            <option value="1">G. Baigorria</option>
                            <option value="2">C. Bermúdez</option>
                            <option value="3">F. L. Beltrán</option>
                            <option value="4">San Lorenzo</option>
                            <option value="5">Ricardone</option>
                            <option value="6">Pto. Gral. San Martín</option>
                            <option value="7">Timbúes</option>
                            <option value="8">Aldao</option>
                            <option value="9">Pueblo Andino</option>
                        </select>
                        <input type="text" id="ori-address" placeholder="Dirección exacta" class="input-styled text-sm">
                    </div>

                    <div class="space-y-4">
                        <label class="text-[10px] font-black text-slate-500 uppercase tracking-widest">Entrega</label>
                        <select id="des-loc" onchange="updatePrice()" class="w-full bg-slate-50 border border-slate-200 rounded-xl p-3.5 font-bold text-slate-700 outline-none">
                            <option value="" disabled selected>Localidad...</option>
                            <option value="0">Rosario</option>
                            <option value="1">G. Baigorria</option>
                            <option value="2">C. Bermúdez</option>
                            <option value="3">F. L. Beltrán</option>
                            <option value="4">San Lorenzo</option>
                            <option value="5">Ricardone</option>
                            <option value="6">Pto. Gral. San Martín</option>
                            <option value="7">Timbúes</option>
                            <option value="8">Aldao</option>
                            <option value="9">Pueblo Andino</option>
                        </select>
                        <input type="text" id="des-address" placeholder="Dirección exacta" class="input-styled text-sm">
                    </div>
                </div>
            </div>

            <!-- 3. Pago y Factura -->
            <div class="mb-10 grid md:grid-cols-2 gap-8">
                <div>
                    <label class="block text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-4">3. Medio de Pago</label>
                    <div class="flex gap-3">
                        <label class="flex-1 cursor-pointer">
                            <input type="radio" name="payment" value="Billetera Virtual" checked class="hidden peer">
                            <div class="peer-checked:border-blue-600 peer-checked:bg-blue-50 border-2 border-slate-100 rounded-xl p-3 text-center transition-all font-bold text-xs uppercase">Billetera</div>
                        </label>
                        <label class="flex-1 cursor-pointer">
                            <input type="radio" name="payment" value="Efectivo" class="hidden peer">
                            <div class="peer-checked:border-green-600 peer-checked:bg-green-50 border-2 border-slate-100 rounded-xl p-3 text-center transition-all font-bold text-xs uppercase">Efectivo</div>
                        </label>
                    </div>
                </div>
                <div>
                    <label class="block text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-4">4. Facturación</label>
                    <div class="flex items-center gap-4 bg-slate-50 p-3 rounded-xl border border-slate-100 h-[52px]">
                        <span class="text-[10px] font-bold text-slate-400 uppercase">Sin Factura</span>
                        <label class="flex items-center cursor-pointer">
                            <div class="relative">
                                <input id="invoice-toggle" type="checkbox" onchange="toggleInvoiceInfo()" class="sr-only">
                                <div class="block-bg block bg-slate-200 w-10 h-6 rounded-full"></div>
                                <div class="dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full shadow transition"></div>
                            </div>
                        </label>
                        <span class="text-[10px] font-bold text-slate-400 uppercase">Solicitar Factura</span>
                    </div>
                </div>
            </div>

            <!-- Requisitos de Factura (Visual) -->
            <div id="invoice-info-box"
                class="hidden mb-10 bg-blue-50 p-5 rounded-2xl border-2 border-dashed border-blue-200 animate-pulse">
                <div class="flex items-center gap-3">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-600" fill="none"
                        viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <p class="text-[10px] font-black text-blue-800 uppercase italic">Coordinaremos Razón Social, CUIT e
                        IVA por privado.</p>
                </div>
            </div>

            <!-- 5. Urgencia -->
            <div class="mb-10">
                <label class="block text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-4">5. Urgencia</label>
                <div class="grid grid-cols-2 gap-4">
                    <label class="cursor-pointer">
                        <input type="radio" name="urgency" value="1" checked onchange="updatePrice()" class="hidden peer">
                        <div class="peer-checked:border-blue-600 peer-checked:bg-blue-50 border-2 border-slate-100 rounded-2xl p-4 text-center">
                            <p class="font-bold text-xs uppercase">Estándar</p>
                        </div>
                    </label>
                    <label class="cursor-pointer">
                        <input type="radio" name="urgency" value="1.5" onchange="updatePrice()" class="hidden peer">
                        <div class="peer-checked:border-orange-500 peer-checked:bg-orange-50 border-2 border-slate-100 rounded-2xl p-4 text-center">
                            <p class="font-bold text-xs uppercase text-orange-600">Prioritario</p>
                        </div>
                    </label>
                </div>
            </div>

            <!-- Datos Cliente -->
            <div class="mb-10 grid md:grid-cols-2 gap-4">
                <input type="text" id="cust-name" placeholder="Nombre / Empresa" class="input-styled text-sm">
                <input type="tel" id="cust-phone" placeholder="WhatsApp" class="input-styled text-sm">
            </div>

            <!-- Resultado -->
            <div class="pt-8 border-t border-slate-100 flex flex-col md:flex-row items-center justify-between gap-6">
                <div>
                    <span class="text-[9px] font-black text-slate-400 uppercase tracking-[0.3em]">Total estimado</span>
                    <h2 id="final-price" class="text-5xl font-black text-slate-900 italic tracking-tighter">$0</h2>
                </div>
                <button onclick="requestOrder()" class="w-full md:w-auto bg-slate-900 text-white px-10 py-5 rounded-2xl font-black uppercase italic tracking-widest shadow-xl active:scale-95 transition-transform">
                    Confirmar Envío
                </button>
            </div>
        </div>
    </main>

    <script>
        let currentSize = { label: '', base: 0 };
        const KM_VALOR = 450; 

        function setSize(label, base, el) {
            currentSize = { label, base };
            document.querySelectorAll('.size-card').forEach(c => c.classList.remove('active'));
            el.classList.add('active');
            updatePrice();
        }

        function toggleInvoiceInfo() {
            const isChecked = document.getElementById('invoice-toggle').checked;
            document.getElementById('invoice-info-box').style.display = isChecked ? 'block' : 'none';
        }

        function updatePrice() {
            const sVal = document.getElementById('ori-loc').value;
            const eVal = document.getElementById('des-loc').value;
            const urgency = parseFloat(document.querySelector('input[name="urgency"]:checked').value);
            
            if (!currentSize.label || sVal === "" || eVal === "") return;

            let total = (parseInt(sVal) === parseInt(eVal)) ? currentSize.base : currentSize.base + (Math.abs(parseInt(sVal) - parseInt(eVal)) * KM_VALOR);
            total *= urgency;
            
            document.getElementById('final-price').innerText = `$${Math.round(total).toLocaleString('es-AR')}`;
        }

        function showAlert(text) {
            document.getElementById('alert-text').innerText = text;
            document.getElementById('alert-modal').style.display = 'flex';
        }

        function closeAlert() { document.getElementById('alert-modal').style.display = 'none'; }

        function requestOrder() {
            const fields = {
                size: currentSize.label,
                oriLoc: document.getElementById('ori-loc').value,
                desLoc: document.getElementById('des-loc').value,
                oriAddr: document.getElementById('ori-address').value.trim(),
                desAddr: document.getElementById('des-address').value.trim(),
                name: document.getElementById('cust-name').value.trim(),
                phone: document.getElementById('cust-phone').value.trim()
            };

            if (!fields.size || !fields.oriLoc || !fields.desLoc || !fields.oriAddr || !fields.desAddr || !fields.name || !fields.phone) {
                showAlert("Por favor completa todos los campos del envío.");
                return;
            }

            const total = document.getElementById('final-price').innerText;
            const payment = document.querySelector('input[name="payment"]:checked').value;
            const needInvoice = document.getElementById('invoice-toggle').checked ? "SÍ (COORDINAR DATOS)" : "NO";
            const locA = document.getElementById('ori-loc').options[document.getElementById('ori-loc').selectedIndex].text;
            const locB = document.getElementById('des-loc').options[document.getElementById('des-loc').selectedIndex].text;

            let msg = ` *PEDIDO INTEGRAL M.S.*%0A` +
                      ` *CLIENTE:* ${fields.name}%0A` +
                      ` *DESDE:* ${locA} (${fields.oriAddr})%0A` +
                      ` *HACIA:* ${locB} (${fields.desAddr})%0A` +
                      ` *CARGA:* ${fields.size}%0A` +
                      ` *PAGO:* ${payment}%0A` +
                      ` *FACTURA:* ${needInvoice}%0A` +
                      ` *TOTAL: ${total}*`;

            window.open(`https://wa.me/5493413753881?text=${msg}`, '_blank');
        }
    </script>
</body>


</html>

